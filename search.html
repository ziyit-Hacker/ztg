<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZIYIT</title>
    <link rel="icon" href="./assets/ziyit.png" type="image/x-icon">
    <script src="./assets/f12check.js"></script>
    <style>
        * {
            margin: 0px;
            padding: 0;
            list-style: none;
        }

        a {
            text-decoration: none;
            color: #66e656;
        }

        .box {
            width: 100%;
            height: 35px;
            background-color: #0b99fa;
        }

        .pod {
            width: 100%;
            height: 100%;
        }

        p {
            color: black;
        }

        ul li {
            display: inline-block;
            line-height: 35px;
        }

        li a {
            padding-left: 20px;
            padding-right: 20px;
        }

        li p {
            padding-left: 20px;
            padding-right: 20px;
        }

        .bid {
            color: #f25767;
        }

        .tit {
            color: black;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.5);
            padding: 5px 0;
        }

        .line {
            width: 1px;
            height: 12px;
            background-color: #f3a707;
        }

        a:hover {
            color: #ff8000;
        }

        h1 {
            width: 100%;
            background-color: rgb(195, 234, 249);
            text-align: center;
            font-size: 50px;
        }

        * {
            box-sizing: border-box;
        }

        .slider {
            width: 560px;
            height: 400px;
            overflow: hidden;
        }

        .slider-wrapper {
            width: 100%;
            height: 320px;
        }

        .slider-wrapper img {
            width: 100%;
            height: 100%;
            display: block;
        }

        .slider-footer {
            height: 80px;
            background-color: rgb(100, 67, 68);
            padding: 12px 12px 0 12px;
            position: relative;
        }

        .slider-footer .toggle {
            position: absolute;
            right: 0;
            top: 12px;
            display: flex;
        }

        .slider-footer .toggle button {
            margin-right: 12px;
            width: 28px;
            height: 28px;
            appearance: none;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-radius: 4px;
            cursor: pointer;
        }

        .slider-footer .toggle button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .slider-footer p {
            margin: 0;
            color: #fff;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .slider-indicator {
            margin: 0;
            padding: 0;
            list-style: none;
            display: flex;
            align-items: center;
        }

        .slider-indicator li {
            width: 8px;
            height: 8px;
            margin: 4px;
            border-radius: 50%;
            background: #fff;
            opacity: 0.4;
            cursor: pointer;
        }

        .slider-indicator li.active {
            width: 12px;
            height: 12px;
            opacity: 1;
        }

        footer {
            transition: background-color 0.5s ease;
        }

        .hidden {
            display: none !important;
        }
        
        .visible {
            display: inline-block !important;
        }

        * {
            cursor: default !important;
        }
    </style>
    <style>
        @media (max-width: 768px) {
            .box {
                height: auto;
            }

            ul.pod {
                display: flex;
                flex-direction: column;
            }

            ul.pod li {
                display: block;
                width: 100%;
                text-align: center;
            }

            .line {
                display: none;
            }

            .service-grid {
                flex-direction: column;
            }

            .service-grid>div {
                width: 100%;
                margin-bottom: 20px;
            }

            h1 {
                text-align: center;
            }
        }
    </style>
</head>

<body background="./assets/bg.jpg" style=" background-repeat:no-repeat ;
        background-size:100% 100%;
        background-attachment: fixed;">
    <h1>搜索</h1>
    <hr>
    <marquee style="background-color: yellow;">
        <strong>
            <span
                style="color: red;">本页面现处于测试阶段!!!如发现bug请将bug描述邮件发送到3950140506@qq.com。如果像投稿推荐网站请将网站的url和好处用途一起发送到邮箱3779502017@qq.com。</span>
        </strong>
    </marquee>
    <script>
        // 检查用户权限
        function checkUserPermission() {
            const authToken = localStorage.getItem('authToken');
            if (!authToken) {
                alert('请先登录以访问该页面');
                window.location.href = './';
                return;
            }

            const [typeCode] = authToken.split('-');
            if (typeCode === 'UR') {
                alert('您没有权限访问该页面');
                window.location.href = './';
            }
        }

        // 页面加载时检查权限
        document.addEventListener('DOMContentLoaded', checkUserPermission);
    </script>
    <hr>
    <div class="box">
        <ul class="pod" id="navMenu">
            <li class="nav-item" data-role="all"><a href='https://cn.bing.com/'>必应搜索</a></li>
            <li class="nav-item" data-role="admin"><a href='https://cn.bing.com/translator'>微软机翻</a></li>
            <li class="nav-item" data-role="all"><a href="https://www.microsoft.com/zh-cn/">微软官网</a></li>
            <li class="nav-item" data-role="all"><a href=".\">首页</a></li>
        </ul>
    </div>

    <div style="text-align: center; margin: 20px auto; max-width: 600px;">
        <form action="https://cn.bing.com/search" method="get" style="display: flex;" autocomplete="off">
            <label for="search-input" style="font-size: 24px; color: #0078d4"><strong>快速搜索: </strong></label>
            <input type="text" id="search-input" name="q" placeholder="搜索..."
                style="flex: 1; padding: 10px; font-size: 16px; border: 1px solid #0078d4; border-radius: 100px 0 0 100px; outline: none;">
            <button type="submit" id="search-button"
                style="padding: 10px 15px; background-color: #0078d4; color: white; border: none; border-radius: 0 100px 100px 0; cursor: pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"
                    style="vertical-align: middle;">
                    <path
                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                </svg>
            </button>
            <input type="hidden" name="form" value="ANNTH1">
            <input type="hidden" name="refig" value="6890ac27dc5a4a31b41d8cc9a3987691">
            <input type="hidden" name="pc" value="CNNDDB">
            <!-- 这里添加更多内容 -->
        </form>
    </div>

    <div style="text-align: center; margin: 20px auto; max-width: 800px;">
        <h3
            style="color: white;font-size: 20px; margin-bottom: 20px; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;">
            推荐网站</h3>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 15px;">
            <div
                style="background: white; border-radius: 8px; padding: 15px; width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <a href="https://www.bilibili.com"
                    style="color: #0078d4; text-decoration: none; font-weight: bold;">哔哩哔哩</a>
                <p style="margin-top: 5px; font-size: 14px; color: #555;">
                    用途：视频分享平台<br>
                    优点：内容丰富，社区活跃<br>
                    缺点：部分内容需要大会员<br>
                    版权：© 2009-2023 bilibili Inc.
                </p>
            </div>

            <div
                style="background: white; border-radius: 8px; padding: 15px; width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <a href="https://study.dgjy.net"
                    style="color: #0078d4; text-decoration: none; font-weight: bold;">莞易学</a>
                <p style="margin-top: 5px; font-size: 14px; color: #555;">
                    用途：东莞教育资源平台<br>
                    优点：本地化教育资源丰富<br>
                    缺点：没有完善<br>
                    版权：© 东莞市教育信息中心 © 佰科科技
                </p>
            </div>

            <div
                style="background: white; border-radius: 8px; padding: 15px; width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <a href="https://www.vmware.com"
                    style="color: #0078d4; text-decoration: none; font-weight: bold;">VMware</a>
                <p style="margin-top: 5px; font-size: 14px; color: #555;">
                    用途：虚拟化软件提供商<br>
                    优点：企业级虚拟化解决方案<br>
                    缺点：商业软件需要付费<br>
                    版权：© 2023 VMware, Inc.
                </p>
            </div>

            <div
                style="background: white; border-radius: 8px; padding: 15px; width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <a href="https://www.ico51.cn"
                    style="color: #0078d4; text-decoration: none; font-weight: bold;">在线生成透明icon</a>
                <p style="margin-top: 5px; font-size: 14px; color: #555;">
                    用途：在线图标生成工具<br>
                    优点：简单易用，无需安装<br>
                    缺点：功能相对基础<br>
                    版权：© 2015-2023 ico51.cn
                </p>
            </div>

            <div
                style="background: white; border-radius: 8px; padding: 15px; width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <a href="https://www.decompiler.com"
                    style="color: #0078d4; text-decoration: none; font-weight: bold;">在线反编译</a>
                <p style="margin-top: 5px; font-size: 14px; color: #555;">
                    用途：在线反编译工具<br>
                    优点：支持多种格式<br>
                    缺点：可能存在安全风险<br>
                    版权：© decompiler.com
                </p>
            </div>
        </div>
    </div>

    <audio src="./assets/bm.mp3" style="display: none;"></audio>

    <script>
        let isPlay = false
        const audio = document.querySelector('audio')
        const bgmList = ['./assets/bm.mp3', './assets/bm2.mp3', './assets/bm3.mp3', './assets/bm4.mp3']

        function selectRandomBgm() {
            const randomIndex = Math.floor(Math.random() * bgmList.length)
            return bgmList[randomIndex]
        }

        audio.loop = false

        audio.addEventListener('ended', () => {
            audio.src = selectRandomBgm()
            audio.play().catch((error) => {
                console.error('fuck microsoft edge and google chrome: ', error)
            })
        })

        const playAudioOnInteraction = () => {
            if (!isPlay) {
                audio.src = selectRandomBgm()
                audio.play()
                    .then(() => {
                        isPlay = true
                        document.removeEventListener('mousemove', playAudioOnInteraction)
                    })
                    .catch((error) => {
                        console.error('fuck user:', error)
                    })
            }
        }

        document.addEventListener('mousemove', playAudioOnInteraction)

        audio.addEventListener('click', () => {
            if (isPlay) {
                audio.pause()
                isPlay = false
            } else {
                audio.play()
                    .then(() => {
                        isPlay = true
                    })
                    .catch((error) => {
                        console.error('fuck 360 browser:', error)
                    })
            }
        })
        toggle()
    </script>

    <p class="tit">&copy;2025 ZIYIT <strong>版权所有，侵权必究</strong></p>

    <script>
        async function checkBlacklist(authToken) {
            try {
                const response = await fetch('./hmd.txt');
                const text = await response.text();
                const lines = text.split('\n');
                return lines.some(line => line.trim() === authToken);
            } catch (error) {
                console.error('检查黑名单出错:', error);
                return false;
            }
        }

        function addBlacklistNotice() {
            const notice = document.createElement('div');
            notice.style.position = 'fixed';
            notice.style.bottom = '0';
            notice.style.left = '0';
            notice.style.width = '100%';
            notice.style.backgroundColor = 'white';
            notice.style.borderRadius = '8px 8px 0 0';
            notice.style.border = '3px solid blue';
            notice.style.color = 'red';
            notice.style.fontSize = '50px';
            notice.style.textAlign = 'center';
            notice.style.padding = '10px';
            notice.style.zIndex = '1000';

            const noticeContent = document.createElement('div');
            noticeContent.innerHTML = '你无法正常使用<span style="font-size: 15px;">您的帐号因种种原因被封禁</span><br><span style="font-size: 17px;">申诉账号问题请联系邮箱3950140506@qq.com</span>';
            notice.appendChild(noticeContent);

            document.body.appendChild(notice);
        }

        async function checkLoginStatus() {
            const authToken = localStorage.getItem('authToken');
            const navItems = document.querySelectorAll('.nav-item');
            const slider = document.querySelector('.slider');
            const lines = document.querySelectorAll('.line');

            if (!authToken) {
                navItems.forEach(item => item.style.display = 'none');
                lines.forEach(line => line.style.display = 'none');
                return;
            }

            const isBlacklisted = await checkBlacklist(authToken);

            if (isBlacklisted) {
                document.querySelectorAll('#navMenu li').forEach(item => {
                    const isVirusDb = item.querySelector('a[href=".\\move\\mod"]');
                    item.style.display = isVirusDb ? 'inline-block' : 'none';
                });
                if (slider) slider.style.display = 'none';
                document.querySelectorAll('footer').forEach(footer => footer.style.display = 'none');
                document.getElementById('product').style.display = 'none';

                addBlacklistNotice();
                return;
            }

            const [type, username] = authToken.split('-');

            const intervalId = setInterval(() => {
                const [type, username] = authToken.split('-');
                loginLink.style.display = 'none';

                navItems.forEach(item => {
                    const role = item.getAttribute('data-role');
                    // 添加class而不是直接修改style
                    if (role === 'all' ||
                        (type === 'ZC' && role === 'admin') ||
                        (type === 'UR' && role === 'user')) {
                        item.classList.add('visible');
                        item.classList.remove('hidden');
                    } else {
                        item.classList.add('hidden');
                        item.classList.remove('visible');
                    }
                });
            }, 250);
        }

        window.addEventListener('DOMContentLoaded', checkLoginStatus);

        const isLoggedIn = !!localStorage.getItem('authToken');
    </script>

    <script>
        document.getElementById('search-button').addEventListener('click', function (e) {
            const searchInput = document.getElementById('search-input');
            if (searchInput.value.trim() === '') {
                alert('搜索的消息为空。');
                window.location.href = './';
                e.preventDefault();
                return false;
            }
        });
    </script>
</body>

</html>
